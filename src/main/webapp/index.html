<!DOCTYPE html>
<html>
  <head>
    <title>Test 2</title>
    <script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
    <link href="//cdn.jsdelivr.net/npm/jquery.fancytree@2.27/dist/skin-win8/ui.fancytree.min.css" rel="stylesheet">
    <script src="//cdn.jsdelivr.net/npm/jquery.fancytree@2.27/dist/jquery.fancytree-all-deps.min.js"></script>
  </head>
  <body>
    <span onclick="myFunction()">Load Tree</span> 
    <div id="tree"></div>
  </body>
</html>

     <script type="text/javascript">
        function myFunction() {// on page load
            // Create the tree inside the <div id="tree"> element.
            $("#tree").fancytree({
                // Initial node data that sets 'lazy' flag on some leaf nodes
                source : {
                    url : "TreeLoadingServlet",
                    data : {
                      state : "initLoad"
                    },
                    cache : false
                },
                lazyLoad : function(event, data) {
                    var node = data.node;
                    // Load child nodes via Ajax GET /getTreeData?mode=children&parent=1234
                    data.result = {
                        url : "TreeLoadingServlet",
                        data : {
                            state : "loadChildren",
                            pos : node.data.pos
                        }
                    };
                }
            });
            // Note: Loading and initialization may be asynchronous, so the nodes may not be accessible yet.
        }
//        $.function({...});
    </script>
